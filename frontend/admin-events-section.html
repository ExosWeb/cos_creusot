<!-- Section de gestion des √©v√©nements dans admin.html -->
<section class="admin-section" id="events-section" style="display: none;">
    <div class="section-header">
        <h2>üéâ Gestion des √âv√©nements</h2>
        <button class="btn-primary" id="addEventBtn">‚ûï Nouvel √âv√©nement</button>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">üìÖ</div>
            <div class="stat-info">
                <h3 id="totalEvents">0</h3>
                <p>Total √âv√©nements</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üîú</div>
            <div class="stat-info">
                <h3 id="upcomingEvents">0</h3>
                <p>√Ä Venir</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
                <h3 id="totalRegistrations">0</h3>
                <p>Total Inscriptions</p>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-info">
                <h3 id="avgParticipants">0</h3>
                <p>Moy. Participants</p>
            </div>
        </div>
    </div>

    <!-- Filtres pour les √©v√©nements -->
    <div class="filters-section">
        <div class="filters-row">
            <select id="eventsStatusFilter">
                <option value="">Tous les statuts</option>
                <option value="draft">Brouillon</option>
                <option value="published">Publi√©</option>
                <option value="cancelled">Annul√©</option>
            </select>

            <select id="eventsCategoryFilter">
                <option value="">Toutes les cat√©gories</option>
                <option value="general">G√©n√©ral</option>
                <option value="voyage">Voyage</option>
                <option value="retraite">Retraite</option>
                <option value="activite">Activit√©</option>
            </select>

            <input type="text" id="eventsSearchFilter" placeholder="Rechercher un √©v√©nement...">
            
            <button class="btn-outline" id="refreshEventsBtn">üîÑ Actualiser</button>
        </div>
    </div>

    <!-- Table des √©v√©nements -->
    <div class="table-container">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Titre</th>
                    <th>Date</th>
                    <th>Cat√©gorie</th>
                    <th>Inscriptions</th>
                    <th>Statut</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="eventsTableBody">
                <tr>
                    <td colspan="6" class="text-center">
                        <div class="loading">Chargement des √©v√©nements...</div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div class="pagination" id="eventsPagination">
        <!-- G√©n√©r√© par JavaScript -->
    </div>
</section>

<!-- Modale pour cr√©er/√©diter un √©v√©nement -->
<div class="modal" id="eventModal" style="display: none;">
    <div class="modal-content large-modal">
        <div class="modal-header">
            <h3 id="eventModalTitle">Nouvel √âv√©nement</h3>
            <button class="modal-close" id="closeEventModal">&times;</button>
        </div>
        
        <form id="eventForm" class="modal-body">
            <div class="form-row">
                <div class="form-group">
                    <label for="eventTitle">Titre de l'√©v√©nement *</label>
                    <input type="text" id="eventTitle" name="title" required>
                </div>
                
                <div class="form-group">
                    <label for="eventCategory">Cat√©gorie</label>
                    <select id="eventCategory" name="category">
                        <option value="general">G√©n√©ral</option>
                        <option value="voyage">Voyage</option>
                        <option value="retraite">Retraite</option>
                        <option value="activite">Activit√©</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="eventDescription">Description</label>
                <textarea id="eventDescription" name="description" rows="4"></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="eventStartDate">Date de d√©but *</label>
                    <input type="date" id="eventStartDate" name="start_date" required>
                </div>

                <div class="form-group">
                    <label for="eventEndDate">Date de fin</label>
                    <input type="date" id="eventEndDate" name="end_date">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="eventStartTime">Heure de d√©but *</label>
                    <input type="time" id="eventStartTime" name="start_time" required>
                </div>

                <div class="form-group">
                    <label for="eventEndTime">Heure de fin</label>
                    <input type="time" id="eventEndTime" name="end_time">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="eventLocation">Lieu</label>
                    <input type="text" id="eventLocation" name="location">
                </div>

                <div class="form-group">
                    <label for="eventMaxParticipants">Nombre max de participants</label>
                    <input type="number" id="eventMaxParticipants" name="max_participants" min="1">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="eventMemberOnly" name="is_member_only">
                        R√©serv√© aux membres uniquement
                    </label>
                </div>

                <div class="form-group">
                    <label for="eventStatus">Statut</label>
                    <select id="eventStatus" name="status">
                        <option value="draft">Brouillon</option>
                        <option value="published">Publi√©</option>
                        <option value="cancelled">Annul√©</option>
                    </select>
                </div>
            </div>
        </form>

        <div class="modal-footer">
            <button type="button" class="btn-outline" id="cancelEventBtn">Annuler</button>
            <button type="submit" class="btn-primary" id="saveEventBtn">Enregistrer</button>
        </div>
    </div>
</div>

<!-- Modale pour voir les inscriptions d'un √©v√©nement -->
<div class="modal" id="registrationsModal" style="display: none;">
    <div class="modal-content large-modal">
        <div class="modal-header">
            <h3 id="registrationsModalTitle">Inscriptions √† l'√©v√©nement</h3>
            <button class="modal-close" id="closeRegistrationsModal">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="registrations-actions">
                <button class="btn-outline" id="exportRegistrationsBtn">üì• Exporter CSV</button>
                <span id="registrationsCount">0 inscription(s)</span>
            </div>

            <div class="table-container">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Email</th>
                            <th>T√©l√©phone</th>
                            <th>Date d'inscription</th>
                            <th>Statut</th>
                        </tr>
                    </thead>
                    <tbody id="registrationsTableBody">
                        <tr>
                            <td colspan="5" class="text-center">
                                <div class="loading">Chargement des inscriptions...</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="modal-footer">
            <button type="button" class="btn-outline" id="closeRegistrationsBtn">Fermer</button>
        </div>
    </div>
</div>